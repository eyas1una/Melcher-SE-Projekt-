<?xml version="1.0" encoding="UTF-8"?>

<?import javafx.scene.control.*?>
<?import javafx.scene.layout.*?>
<?import javafx.scene.text.*?>
<?import javafx.geometry.Insets?>

<StackPane fx:id="dialogOverlay" xmlns="http://javafx.com/javafx"
           xmlns:fx="http://javafx.com/fxml"
           fx:controller="com.group_2.ui.finance.StandingOrdersDialogController"
           visible="false" managed="false"
           alignment="CENTER"
           stylesheets="@/css/styles.css"
           styleClass="dialog-overlay">

    <!-- Dialog Card -->
    <VBox styleClass="card dialog-surface" spacing="0"
          StackPane.alignment="CENTER" maxWidth="900" maxHeight="650" prefWidth="780">
        
        <!-- Header -->
        <HBox alignment="CENTER" spacing="15" styleClass="dialog-header">
            <Button text="âœ•" onAction="#closeDialog"
                    styleClass="dialog-close-button"/>
            <Text text="ðŸ”„ Standing Orders" styleClass="dialog-title"/>
            <Region HBox.hgrow="ALWAYS"/>
        </HBox>

        <!-- Content -->
        <VBox spacing="15" styleClass="dialog-body" VBox.vgrow="ALWAYS">
            <Text text="Active recurring transactions" styleClass="dialog-subtitle"/>
            
            <!-- Standing Orders Table -->
            <TableView fx:id="standingOrdersTable" VBox.vgrow="ALWAYS" styleClass="table-view">
                <columnResizePolicy>
                    <TableView fx:constant="CONSTRAINED_RESIZE_POLICY"/>
                </columnResizePolicy>
                <columns>
                    <TableColumn fx:id="descriptionColumn" text="Description" prefWidth="140"/>
                    <TableColumn fx:id="payerColumn" text="Payer" prefWidth="100"/>
                    <TableColumn fx:id="debtorsColumn" text="Debtors" prefWidth="140"/>
                    <TableColumn fx:id="amountColumn" text="Amount" prefWidth="80"/>
                    <TableColumn fx:id="frequencyColumn" text="Frequency" prefWidth="110"/>
                    <TableColumn fx:id="nextExecutionColumn" text="Next" prefWidth="90"/>
                    <TableColumn fx:id="actionsColumn" text="Actions" prefWidth="80"/>
                </columns>
            </TableView>
            
            <!-- Empty State -->
            <VBox fx:id="emptyState" alignment="CENTER" spacing="10" visible="false" managed="false" VBox.vgrow="ALWAYS">
                <Text text="ðŸ“­" styleClass="dialog-header-icon"/>
                <Text text="No standing orders yet" styleClass="dialog-message-text"/>
                <Text text="Create a standing order from the transaction dialog" styleClass="dialog-subtitle-small"/>
            </VBox>
        </VBox>

        <!-- Footer -->
        <HBox alignment="CENTER_RIGHT" spacing="10" styleClass="dialog-footer">
            <Button text="Close" onAction="#closeDialog"
                    styleClass="dialog-footer-button-light"/>
        </HBox>
    </VBox>
</StackPane>
