<?xml version="1.0" encoding="UTF-8"?>

<?import javafx.scene.control.*?>
<?import javafx.scene.layout.*?>
<?import javafx.scene.text.*?>
<?import javafx.geometry.Insets?>

<BorderPane xmlns="http://javafx.com/javafx"
            xmlns:fx="http://javafx.com/fxml"
            fx:controller="com.group_2.ui.DashboardController"
            styleClass="dashboard-root"
            stylesheets="@/styles.css"
            prefWidth="1100" prefHeight="700">

    <!-- Sidebar -->
    <left>
        <VBox styleClass="sidebar">
            <!-- Logo/Header -->
            <VBox styleClass="sidebar-header" spacing="5">
                <Text text="ðŸ  WG Manager" styleClass="sidebar-logo"/>
                <Text text="Manage your shared living" styleClass="sidebar-subtitle"/>
            </VBox>

            <!-- Navigation Menu -->
            <VBox styleClass="sidebar-menu" VBox.vgrow="ALWAYS">
                <Text text="NAVIGATION" styleClass="menu-section-label"/>
                
                <Button text="ðŸ   Home" styleClass="menu-item" onAction="#backToHome"/>
                
                <Button fx:id="menuWgButton" text="ðŸ˜ï¸  My WG" 
                        styleClass="menu-item, menu-item-active" 
                        onAction="#showWgView"/>
                
                <Button fx:id="menuAccountButton" text="ðŸ‘¤  Account" 
                        styleClass="menu-item" 
                        onAction="#showAccountView"/>
                
                <Button fx:id="menuRoomsButton" text="ðŸšª  Rooms" 
                        styleClass="menu-item" 
                        onAction="#showRoomsView"/>
                
                <Button fx:id="menuMembersButton" text="ðŸ‘¥  Members" 
                        styleClass="menu-item" 
                        onAction="#showMembersView"/>

                <!-- Spacer -->
                <Region VBox.vgrow="ALWAYS"/>

                <!-- User Profile at Bottom -->
                <HBox styleClass="user-profile-section" spacing="12" alignment="CENTER_LEFT">
                    <StackPane styleClass="avatar">
                        <Text fx:id="avatarInitial" text="?" styleClass="avatar-text"/>
                    </StackPane>
                    <VBox spacing="2">
                        <Text fx:id="userNameText" text="User Name" styleClass="user-name"/>
                        <Text fx:id="userEmailText" text="user@email.com" styleClass="user-email"/>
                    </VBox>
                </HBox>
                
                <Button text="ðŸšª  Logout" styleClass="menu-item" onAction="#handleLogout"/>
            </VBox>
        </VBox>
    </left>

    <!-- Main Content Area -->
    <center>
        <ScrollPane fitToWidth="true" styleClass="scroll-pane">
            <VBox styleClass="main-content" spacing="25">

                <!-- WG Details View (default) -->
                <VBox fx:id="wgDetailsView" spacing="25" visible="true" managed="true">
                    <VBox styleClass="content-header" spacing="8">
                        <Text fx:id="wgNameText" text="My WG" styleClass="page-title"/>
                        <HBox spacing="10" alignment="CENTER_LEFT">
                            <StackPane styleClass="badge">
                                <Text fx:id="wgIdText" text="ID: 1" styleClass="badge-text"/>
                            </StackPane>
                            <StackPane styleClass="badge, badge-success">
                                <Text fx:id="adminText" text="Admin: You" styleClass="badge-text"/>
                            </StackPane>
                        </HBox>
                    </VBox>

                    <!-- Stats Row -->
                    <HBox spacing="20">
                        <VBox styleClass="stat-card" spacing="5">
                            <Text fx:id="memberCountText" text="0" styleClass="stat-value"/>
                            <Text text="Members" styleClass="stat-label"/>
                        </VBox>
                        <VBox styleClass="stat-card" spacing="5">
                            <Text fx:id="roomCountText" text="0" styleClass="stat-value"/>
                            <Text text="Rooms" styleClass="stat-label"/>
                        </VBox>
                    </HBox>

                    <!-- Members Card -->
                    <VBox styleClass="card" spacing="15">
                        <HBox alignment="CENTER_LEFT">
                            <Text text="ðŸ‘¥ Members" styleClass="card-title"/>
                            <Region HBox.hgrow="ALWAYS"/>
                            <Button text="+ Invite" styleClass="primary-button" style="-fx-padding: 8 16;"/>
                        </HBox>
                        <VBox fx:id="mitbewohnerBox" spacing="10">
                            <!-- Members will be added here dynamically -->
                        </VBox>
                    </VBox>

                    <!-- Rooms Card -->
                    <VBox styleClass="card" spacing="15">
                        <HBox alignment="CENTER_LEFT">
                            <Text text="ðŸšª Rooms" styleClass="card-title"/>
                            <Region HBox.hgrow="ALWAYS"/>
                            <Button text="+ Add Room" styleClass="primary-button" style="-fx-padding: 8 16;"/>
                        </HBox>
                        <VBox fx:id="roomsBox" spacing="10">
                            <!-- Rooms will be added here dynamically -->
                        </VBox>
                    </VBox>

                    <!-- Actions -->
                    <HBox spacing="15">
                        <Button text="ðŸ”„ Refresh" onAction="#refreshView" styleClass="secondary-button"/>
                    </HBox>
                </VBox>

                <!-- Account View -->
                <VBox fx:id="accountView" spacing="25" visible="false" managed="false">
                    <VBox styleClass="content-header" spacing="8">
                        <Text text="My Account" styleClass="page-title"/>
                        <Text text="Manage your personal information" styleClass="page-subtitle"/>
                    </VBox>

                    <VBox styleClass="card" spacing="20">
                        <HBox spacing="20" alignment="CENTER_LEFT">
                            <StackPane styleClass="avatar, avatar-large">
                                <Text fx:id="accountAvatarInitial" text="?" styleClass="avatar-text"/>
                            </StackPane>
                            <VBox spacing="5">
                                <Text fx:id="accountNameText" text="Your Name" styleClass="card-title"/>
                                <Text fx:id="accountEmailText" text="your@email.com" styleClass="card-subtitle"/>
                            </VBox>
                        </HBox>

                        <Region styleClass="divider"/>

                        <VBox spacing="15">
                            <HBox spacing="20">
                                <VBox spacing="5" HBox.hgrow="ALWAYS">
                                    <Text text="Full Name" styleClass="card-subtitle"/>
                                    <Text fx:id="accountFullNameText" text="Name Surname" styleClass="list-item-title"/>
                                </VBox>
                            </HBox>
                            <HBox spacing="20">
                                <VBox spacing="5" HBox.hgrow="ALWAYS">
                                    <Text text="Email Address" styleClass="card-subtitle"/>
                                    <Text fx:id="accountEmailDisplayText" text="email@example.com" styleClass="list-item-title"/>
                                </VBox>
                            </HBox>
                            <HBox spacing="20">
                                <VBox spacing="5" HBox.hgrow="ALWAYS">
                                    <Text text="WG Status" styleClass="card-subtitle"/>
                                    <Text fx:id="accountWgStatusText" text="Member of WG" styleClass="list-item-title"/>
                                </VBox>
                            </HBox>
                        </VBox>
                    </VBox>
                </VBox>

                <!-- Rooms View -->
                <VBox fx:id="roomsView" spacing="25" visible="false" managed="false">
                    <VBox styleClass="content-header" spacing="8">
                        <Text text="Rooms" styleClass="page-title"/>
                        <Text text="Manage the rooms in your WG" styleClass="page-subtitle"/>
                    </VBox>

                    <VBox styleClass="card" spacing="15">
                        <HBox alignment="CENTER_LEFT">
                            <Text text="All Rooms" styleClass="card-title"/>
                            <Region HBox.hgrow="ALWAYS"/>
                            <Button text="+ Add Room" styleClass="primary-button" style="-fx-padding: 8 16;"/>
                        </HBox>
                        <VBox fx:id="roomsListBox" spacing="10">
                            <!-- Rooms will be added here dynamically -->
                        </VBox>
                    </VBox>
                </VBox>

                <!-- Members View -->
                <VBox fx:id="membersView" spacing="25" visible="false" managed="false">
                    <VBox styleClass="content-header" spacing="8">
                        <Text text="Members" styleClass="page-title"/>
                        <Text text="People living in your WG" styleClass="page-subtitle"/>
                    </VBox>

                    <VBox styleClass="card" spacing="15">
                        <HBox alignment="CENTER_LEFT">
                            <Text text="All Members" styleClass="card-title"/>
                            <Region HBox.hgrow="ALWAYS"/>
                            <Button text="+ Invite" styleClass="primary-button" style="-fx-padding: 8 16;"/>
                        </HBox>
                        <VBox fx:id="membersListBox" spacing="10">
                            <!-- Members will be added here dynamically -->
                        </VBox>
                    </VBox>
                </VBox>

            </VBox>
        </ScrollPane>
    </center>

</BorderPane>
